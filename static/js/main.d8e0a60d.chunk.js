(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{21:function(t,e,n){},44:function(t,e,n){"use strict";n.r(e);var o=n(1),i=n.n(o),r=n(14),a=n.n(r),s=(n(21),n(6)),l=n.n(s),c=n(15),u=n.n(c),p=(n(42),n(3)),d=n.n(p),f=n(16),h=n.n(f),m=30,v=480,g=640,x=["a","b","c","d"],y=30,k=n(0),b=m,j=v,w=g,S=x,E=y,C={video:{audio:!1,height:j,width:w,maxFrameRate:E}},N=function(){var t,e,n,o,i,r,a=[],s="d",c=!1,p=b,f=0,m=!1,v=function(t){var e=t.createDiv();e.style("display","flex"),e.style("direction","row"),e.style("margin","20px");var n=t.createButton("Fight & Stop"),o=t.createButton("Draw & Erase");n.parent(e),o.parent(e),n.mousePressed((function(){return g(t)})),o.mousePressed((function(){return m=!m}))},g=function(){void 0!==i?(clearInterval(i),i=void 0,p=b,r.play()):(f=0,r.play(),i=setInterval(x,1e3))},x=function(){p>0&&p--},y=function t(){if(e&&e.keypoints){for(var n=[],i=0;i<11;i++){var r=e.keypoints[i].position.x,a=e.keypoints[i].position.y;n.push(r),n.push(a)}o.classify(n,N)}else t()},N=function(t,e){t?console.log("error"):(void 0!==e&&0!==e.lenght&&a.push(e[0].label),10===a.length&&(h()(a)===s&&(c=!0,30!==p&&f++,s=S.filter((function(t){return t!==s}))[Math.floor(Math.random()*S.filter((function(t){return t!==s})).length)]),a=[]))},O=function(t){0===t.length?e={}:(e=t[0].pose,n=t[0].skeleton,y())},B=function(t,e){for(var o=0;o<e.length;o++){var i=e[o].position.x,r=e[o].position.y;t.fill(0,255,0),t.ellipse(i,r,16,16)}for(var a=0;a<n.length;a++){var s=n[a][0],l=n[a][1];t.strokeWeight(2),t.stroke(255),t.line(s.position.x,s.position.y,l.position.x,l.position.y)}};return Object(k.jsxs)("div",{children:[Object(k.jsx)("p",{className:"title",children:"AI Boxing Trainer"}),"~",Object(k.jsx)(u.a,{setup:function(e,n){var i;if(d.a){var a={fight:function(){return g()},stop:function(){return g()},draw:function(){return m=!m},erase:function(){return m=!m}};d.a.addCommands(a),d.a.start()}r=e.loadSound("bell.mp3"),e.frameRate(E),e.createCanvas(w,j).parent(n),e.background(51),(t=e.createCapture(C)).position(0,0),t.hide(),v(e),l.a.poseNet(t).on("pose",O);null===(i=o=l.a.neuralNetwork({inputs:22,outputs:4,task:"classification",debug:!0}))||void 0===i||i.load({model:"model/model.json",metadata:"model/model_meta.json",weights:"model/model.weights.bin"})},draw:function(n){n.push(),n.translate(w,0),n.scale(-1,1),n.image(t,0,0,w,j),void 0!==e&&e.keypoints&&(m&&B(n,e.keypoints),n.pop(),c?(n.fill(0,255,0),c=!1):n.fill(255,0,255),n.noStroke(),n.textSize(100),n.textAlign("CENTER","CENTER"),n.text(s,w/2+220,j/2-110),n.textSize(40),n.fill(255,0,0),n.text("Time: ".concat(p),w/2+160,j/2-70),n.textSize(25),n.fill(255,0,255),n.text("Score: ".concat(f),w/2-310,j/2-170),n.fill(255,0,255),n.ellipse(w/2,j/2-20,80,80)),0===p&&g()}})]})};a.a.render(Object(k.jsx)(i.a.StrictMode,{children:Object(k.jsx)(N,{})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.d8e0a60d.chunk.js.map